{% extends "base.html" %}

{% block content %}
  {% for task in task_list %}
    <h1>
      Task: {{ task.name }}
      <a href="#" class="btn btn-danger link-to-page">
        Delete
      </a>
      <a href="#" class="btn btn-secondary link-to-page">
        Update status
      </a>
    </h1>

    <p><strong>Description:</strong> {{ task.description }}</p>
    <p><strong>Task type:</strong> {{ task.task_type.name }}</p>
    <p><strong>Deadline:</strong> {{ task.deadline }}</p>
    <p><strong>Priority:</strong> {{ task.priority }}</p>
    <p><strong>Status:</strong> {{ task.is_completed }}</p>

    <p><strong>Assignees:</strong>
      {% for worker in task.assignees.all %}
        {{ worker.username }} ({{ worker.first_name }}
        {{ worker.last_name }}{% if worker.position %}, {{ worker.position.name }}{% endif %}){% if not forloop.last %},
      {% endif %}
      {% endfor %}
    </p>

    <p><strong>Projects:</strong>
      {% for project in task.projects.all %}
        {{ project.name }}{% if not forloop.last %}, {% endif %}
      {% endfor %}
    </p>
  {% empty %}
    <p>No Tasks!</p>
  {% endfor %}
{% endblock %}
