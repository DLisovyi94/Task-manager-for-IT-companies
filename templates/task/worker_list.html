{% extends "base.html" %}

{% block content %}
  <h1>
    Username: {{ worker.username }}
    <a href="#" class="btn btn-danger link-to-page">Delete</a>
    <a href="#" class="btn btn-secondary link-to-page">Update status</a>
  </h1>

  <p><strong>First name:</strong> {{ worker.first_name }}</p>
  <p><strong>Last name:</strong> {{ worker.last_name }}</p>
  <p><strong>Position:</strong> {{ worker.position }}</p>

  <h4>Created Tasks</h4>
  <ul>
    {% for task in worker.created_tasks.all %}
      <li>{{ task.name }}</li>
    {% empty %}
      <li>No created tasks.</li>
    {% endfor %}
  </ul>

  <h4>Assigned Tasks</h4>
  <ul>
    {% for task in worker.assigned_tasks.all %}
      <li>{{ task.name }}</li>
    {% empty %}
      <li>No assigned tasks.</li>
    {% endfor %}
  </ul>

  <h4>Teams</h4>
  <ul>
    {% for team in worker.teams.all %}
      <li>{{ team.name }}</li>
    {% empty %}
      <li>No teams assigned.</li>
    {% endfor %}
  </ul>

  <div class="ml-3">
    <h4>Projects</h4>
    <ul>
      {% for project in projects %}
        <li>
          <strong>{{ project.name }}</strong><br>
          <strong>Description:</strong> {{ project.description }}<br>
          <strong>Team:</strong> {{ project.team.first.name }}<br>
          <strong>Tasks:</strong>
          <ul>
            {% for task in project.tasks.all %}
              <li>{{ task.name }} ({{ task.task_type.name }})</li>
            {% endfor %}
          </ul>
        </li>
      {% empty %}
        <li>No projects!</li>
      {% endfor %}
    </ul>
  </div>

  <p class="text-muted"><strong>User ID:</strong> {{ worker.id }}</p>
{% endblock %}
